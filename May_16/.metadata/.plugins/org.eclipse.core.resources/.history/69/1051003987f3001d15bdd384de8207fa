<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %> 

<%
   String ctxPath = request.getContextPath();
%>   

<style type="text/css">

   th {background-color: #DDD}

    .subjectStyle {font-weight: bold;
                color: navy;
                cursor: pointer;}

    a {text-decoration: none !important;}
    
</style>


<script type="text/javascript">

   $(document).ready(function(){
     
	  $("span.subject").bind("mouseover", function(e) {  // 마우스 올렸을때 
		  $(e.target).addClass("subjectStyle");   // css 스타일을 준다
	  });
	  
	  
	  $("span.subject").bind("mouseout", function(e) { // 마우스 뺏을때 
		  $(e.target).removeClass("subjectStyle");   // css 스타일을 뺀다.
	  });
	  

  });// end of $(document).ready(function(){})-------------------------------

  
  // Function Declaration
  function goView(seq) {
		 
	  location.href = "<%=ctxPath%>/view.action?seq="+seq;   
 
	  // 페이지 이동 
	  
  }// end of function goView(seq)
</script>

<div style="display: flex;">
<div style="margin: auto; padding-left: 3%;">

   <h2 style="margin-bottom: 30px;">글목록</h2>
   
   <table style="width: 1024px" class="table table-bordered">
      <thead>
       <tr>
          <th style="width: 70px;  text-align: center;">글번호</th>
         <th style="width: 360px; text-align: center;">제목</th>
         <th style="width: 70px;  text-align: center;">성명</th>
         <th style="width: 150px; text-align: center;">날짜</th>
         <th style="width: 70px;  text-align: center;">조회수</th>
       </tr>
      </thead>
      
      <tbody>
      	 <c:if test="${empty requestScope.boardList}">
      	 	<tr>
      	 		<td colspan="5">게시글 데이터가 없습니다.</td>
      	 	</tr>
      	 </c:if>
      	 <c:if test="${not empty requestScope.boardList}">
	         <c:forEach var="boardvo" items="${requestScope.boardList}">
	         	 <tr>
		         	 <td align="center">${boardvo.seq}</td>
		         	 
		         	 <%-- === 댓글 쓰기 게시판 시작 ===  --%>
		         	 <td>
		         	 	<%-- 댓글 개수가 1개이상이면 뒤에 댓글개수 보이자   --%>
			         	 <c:if test="${boardvo.commentCount > 0}">
			         	 	<span class="subject" onclick="goView('${boardvo.seq}')">${boardvo.subject}<span style="vertical-align: super;">${boardvo.commentCount}</span> </span>		     
			         	 </c:if>
			         	 
			         	 <%-- 댓글 개수가 0개라면 보이지 말자  --%>
			         	 <c:if test="${boardvo.commentCount == 0}">
			         	 	<span class="subject" onclick="goView('${boardvo.seq}')">${boardvo.subject}</span>		     		 
			         	 </c:if>
		         	 </td>
		         	 <%-- === 댓글 쓰기 게시판 끝 ===  --%>
		         	 
		         	 <td align="center">${boardvo.name}</td>
		         	 <td align="center">${boardvo.regDate}</td>
		         	 <td align="center">${boardvo.readCount}</td>
	         	 </tr>
	         </c:forEach>
         </c:if>
      </tbody>
   </table>

    <%-- === #122. 페이지바 보여주기 === --%>  
    
 
 
    <%-- === #101. 글검색 폼 추가하기 : 글제목, 글쓴이로 검색을 하도록 한다. === --%>
    
   
   <%-- === #106. 검색어 입력시 자동글 완성하기 1 === --%>
      
</div>
</div>
  